<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Grid</title>
    <link rel="stylesheet" href="../frameui/css/frameui.all.css" />
    <link rel="stylesheet" href="../fontawesome/css/font-awesome.min.css" />
    <script language="javascript" type="text/javascript" src="../scripts/jquery.js"></script>
    <script language="javascript" type="text/javascript" src="../frameui/modules/core.js"></script>
    <script language="javascript" type="text/javascript" src="../frameui/modules/checkbox.js"></script>
    <script language="javascript" type="text/javascript" src="../frameui/modules/tip.js"></script>
    <script language="javascript" type="text/javascript" src="../frameui/modules/grid.js"></script>
    <script language="javascript" type="text/javascript" src="../frameui/modules/pagination.js"></script>
    <script language="javascript" type="text/javascript">
        $(document).ready(function () {
            $("#btnSelectRow").on("click", function () {
                var rowIndex = $("#txtRowIndex").val();
                $("#dg").Frame().SelectRow(rowIndex);
            });

            $("#btnUnSelectRow").on("click", function () {
                var rowIndex = $("#txtRowIndex").val();
                $("#dg").Frame().UnSelectRow(rowIndex);
            });

            $("#btnSelections").on("click", function () {
                var s = $("#dg").Frame().GetSelections();
            });

            $("#dg").Grid({ CanShowPager: true, CanShowCheckBox: true, CanShowRowNumber: true, CanMultiple: false, CanShowLoading: true,
                Url: "../services/demo/query",
                FrozenColumns: [
                { Title: "ID", Field: "PId", Width: 50 },
                { Title: "名称", Field: "FPointName", Width: 50 }
                ],
                Columns: [
                { Title: "Cycle", Field: "FCycle", Width: 60,
                    Formatter: function (index, row, value) {
                        return value + "001";
                    }
                },
                { Title: "IsAlarm", Field: "FIsAlarm", Width: 70,
                    Styler: function (index, row, value) {
                        if (value)
                            return "color:green;";
                        else
                            return "color:red;";
                    }
                },
                { Title: "Remark", Field: "FRemark", Width: 80,Align:"center",
                    Styler: function (index, row, value) {
                        if (value.length>=2)
                            return "<i class='icon-pencil'></i>";
                        else
                            return "<i class='icon-trash'></i>";
                    } 
                }
                ],
                PageButtons: [
                { Icon: "icon-trash", Title: "Trash", Color: "blue",
                    Click: function (title) {
                        $("#dg").Frame().Clear();
                    }
                },
                { Separator: true },
                { Icon: "icon-pencil", Title: "Pencil", Color: "purple",
                    Click: function (title) {
                        $("#dg").Frame().Load("../services/demo/query");
                    }
                }
                ],
                OnExtractor: function (data) {
                    if (data.returnValue) {
                        return data.returnValue;
                    }

                    return { Rows: [], Total: 0 };
                }
            });
        });
    </script>
</head>
<body>
    <div class="frameui-conatiner">
        <div class="frameui-container-inner">
            <div class="page-content">
                <div class="page-header">
                    <h1>Grid</h1>
                </div>

                <div class="row">
                    <div style="width:1000px; height:500px; background-color:Orange;">
                        <div id="dg"></div>
                    </div>
                </div>
                <div class="row">
                    <input id="txtRowIndex" type="text" class="frame-textbox" />
                    <button id="btnSelectRow" class="frame-button">SelectRow</button>
                    <button id="btnUnSelectRow" class="frame-button">UnSelectRow</button>
                    <button id="btnSelections" class="frame-button">Selections</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
